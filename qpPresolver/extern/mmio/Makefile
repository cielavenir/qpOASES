# Makefile for compiling the mmio code. No (static or dynamic) library will be
# created, only the object file.

# ==============================================================================
# header files for dependencies
# ==============================================================================
HDR = include/mmio.h

# ==============================================================================
# object files
# ==============================================================================
OBJ = lib/mmio.o

# ==============================================================================
# library files
# ==============================================================================
# LIB = lib/libmmio.a

# ==============================================================================
# compiler command for generating objects
# ==============================================================================
C = $(CC) $(CFLAGS) $(DEFINES) -Iinclude

# ==============================================================================
# command for creating lib directory if not existent
# ==============================================================================
MKDIR_P = mkdir -p

# ==============================================================================
# build library
# ==============================================================================
# $(LIB): $(OBJ)
#	@$(AR) rs $(LIB) $(OBJ)

# ==============================================================================
# compile all object files
# ==============================================================================
lib/mmio.o: src/mmio.c $(HDR)
	@$(MKDIR_P) -p lib
	@$(C) -c $< -o $@

# ==============================================================================
# remove object files
# ==============================================================================
clean:
	@$(RM) $(OBJ)

# ==============================================================================
# remove object and library files
# ==============================================================================
purge: clean
#	@$(RM) $(LIB)
